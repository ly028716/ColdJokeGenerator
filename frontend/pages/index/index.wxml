<view class="container">
  <!-- å¤´éƒ¨åŒºåŸŸ -->
  <view class="header">
    <view class="header-content">
      <view class="title-section">
        <text class="main-title">AIå†·ç¬‘è¯ç”Ÿæˆå™¨</text>
        <text class="subtitle">è®©ç”Ÿæ´»æ›´æœ‰è¶£ ğŸ˜„</text>
      </view>
      <view class="stats-section">
        <view class="stat-item">
          <text class="stat-number">{{todayCount}}</text>
          <text class="stat-label">ä»Šæ—¥</text>
        </view>
        <view class="stat-divider"></view>
        <view class="stat-item">
          <text class="stat-number">{{totalCount}}</text>
          <text class="stat-label">æ€»è®¡</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
  <scroll-view class="main-content" scroll-y="{{true}}" enable-back-to-top="{{true}}">
    
    <!-- ç¬‘è¯å†…å®¹æ˜¾ç¤ºåŒº -->
    <view class="joke-display-section">
      <view class="section-header">
        <text class="section-title">{{currentJoke ? 'ä»Šæ—¥ç¬‘è¯' : 'å¼€å§‹ç”Ÿæˆä½ çš„ç¬¬ä¸€ä¸ªç¬‘è¯å§ï¼'}}</text>
      </view>
      
      <!-- ç¬‘è¯å¡ç‰‡ -->
      <view class="joke-card" wx:if="{{currentJoke}}" animation="{{jokeAnimation}}">
        <text class="joke-content">{{currentJoke.content}}</text>
        <view class="joke-tags" wx:if="{{currentJoke.tags}}">
          <view class="joke-tag" wx:for="{{currentJoke.tags}}" wx:key="*this">
            <text class="tag-text">{{item}}</text>
          </view>
        </view>
      </view>
      
      <!-- ç©ºçŠ¶æ€ -->
      <view class="empty-state" wx:else>
        <text class="empty-icon">ğŸ­</text>
        <text class="empty-text">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹ç”Ÿæˆç¬‘è¯</text>
      </view>
    </view>

    <!-- å‚æ•°è®¾ç½®åŒºåŸŸ -->
    <view class="settings-section">
      <view class="section-header">
        <text class="section-title">ç”Ÿæˆè®¾ç½®</text>
      </view>
      
      <!-- é•¿åº¦è®¾ç½® -->
      <view class="setting-item">
        <text class="setting-label">ç¬‘è¯é•¿åº¦</text>
        <view class="slider-container">
          <slider 
            min="0" 
            max="2" 
            step="1" 
            value="{{lengthValue}}"
            bindchange="onLengthChange"
            activeColor="#FF6B6B"
            backgroundColor="#E9ECEF"
            block-color="#FF6B6B"
            block-size="16">
          </slider>
          <text class="slider-label">{{lengthLabels[lengthValue]}}</text>
        </view>
      </view>
      
      <!-- ç±»å‹è®¾ç½® -->
      <view class="setting-item">
        <text class="setting-label">ç¬‘è¯ç±»å‹</text>
        <picker 
          mode="selector" 
          range="{{categoryOptions}}" 
          range-key="name"
          value="{{selectedCategoryIndex}}"
          bindchange="onCategoryChange">
          <view class="picker-display">
            <text class="picker-text">{{categoryOptions[selectedCategoryIndex].name}}</text>
            <text class="picker-arrow">â–¼</text>
          </view>
        </picker>
      </view>
    </view>

    <!-- æ“ä½œæŒ‰é’®ç»„ -->
    <view class="action-buttons">
      <view class="generate-btn {{isLoading ? 'loading' : ''}}" bindtap="generateJoke">
        <text class="btn-icon">ğŸ²</text>
        <text class="btn-text">ç”Ÿæˆ</text>
      </view>
      <view class="favorite-btn" bindtap="onJokeFavorite" wx:if="{{currentJoke}}">
        <text class="btn-icon">â¤ï¸</text>
        <text class="btn-text">æ”¶è—</text>
      </view>
      <view class="share-btn" bindtap="onJokeShare" wx:if="{{currentJoke}}">
        <text class="btn-icon">ğŸ“¤</text>
        <text class="btn-text">åˆ†äº«</text>
      </view>
    </view>

    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
    <view class="stats-section">
      <view class="section-header">
        <text class="section-title">ä»Šæ—¥ç»Ÿè®¡</text>
      </view>
      <view class="stats-content">
        <text class="stats-text">å·²ç”Ÿæˆ {{todayCount}} ä¸ªç¬‘è¯ | æ”¶è— {{favoriteCount}} ä¸ª | åˆ†äº« {{shareCount}} æ¬¡</text>
      </view>
    </view>

  </scroll-view>

</view>